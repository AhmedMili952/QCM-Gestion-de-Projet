<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>QCM XTI103 — Git & GitHub</title>
  <link rel="stylesheet" href="QCM.css">
</head>

<body>

<div class="container">
  <h1>QCM XTI103 — Git & GitHub</h1>

  <form id="qcm">

    <!-- QUESTION 1 -->
    <div class="question">
      <p class="question-title">
        1. Quel est l’objectif principal de la gestion de versions ?
      </p>

      <label><input type="radio" name="q1" value="0"> <b>A.</b> Compiler automatiquement le code</label><br>
      <label><input type="radio" name="q1" value="1"> <b>B.</b> Conserver un historique des modifications</label><br>
      <label><input type="radio" name="q1" value="0"> <b>C.</b> Accélérer l’exécution des programmes</label><br>
      <label><input type="radio" name="q1" value="0"> <b>D.</b> Remplacer les sauvegardes manuelles</label>

      <div class="explanation"></div>
    </div>

    <!-- QUESTION 2 -->
    <div class="question">
      <p class="question-title">
        2. Git est un système de gestion de versions :
      </p>

      <label><input type="radio" name="q2" value="0"> <b>A.</b> Centralisé</label><br>
      <label><input type="radio" name="q2" value="1"> <b>B.</b> Décentralisé</label><br>
      <label><input type="radio" name="q2" value="0"> <b>C.</b> Basé uniquement sur le cloud</label><br>
      <label><input type="radio" name="q2" value="0"> <b>D.</b> Temps réel</label>

      <div class="explanation"></div>
    </div>

    <!-- QUESTION 3 -->
    <div class="question">
      <p class="question-title">
        3. Que fait la commande <code>git init</code> ?
      </p>

      <label><input type="radio" name="q3" value="1"> <b>A.</b> Initialise un dépôt Git</label><br>
      <label><input type="radio" name="q3" value="0"> <b>B.</b> Clone un dépôt distant</label><br>
      <label><input type="radio" name="q3" value="0"> <b>C.</b> Supprime l’historique</label><br>
      <label><input type="radio" name="q3" value="0"> <b>D.</b> Crée une branche</label>

      <div class="explanation"></div>
    </div>

    <div class="actions">
      <button type="button" onclick="corriger()">Corriger</button>
      <button type="button" id="restartBtn" onclick="location.reload()" style="display:none">
        Recommencer
      </button>
    </div>

    <div class="result" id="result"></div>

  </form>
</div>

<script>
function corriger() {
  let score = 0;
  const questions = document.querySelectorAll(".question");

  questions.forEach(q => {
    const radios = q.querySelectorAll("input[type=radio]");
    const checked = q.querySelector("input[type=radio]:checked");
    const explanation = q.querySelector(".explanation");

    q.classList.remove("unanswered");
    explanation.style.display = "block";
    explanation.innerHTML = "";

    // déterminer la bonne réponse
    let correctIndex = -1;
    radios.forEach((r, i) => {
      if (r.value === "1") correctIndex = i;
    });

    const letter = ["A", "B", "C", "D"][correctIndex];

    if (!checked) {
      q.classList.add("unanswered");
      explanation.innerHTML = `Bonne réponse : <b>${letter}</b>`;
      return;
    }

    if (checked.value === "1") {
      score++;
      checked.parentElement.classList.add("correct");
    } else {
      checked.parentElement.classList.add("wrong");
    }

    explanation.innerHTML = `Bonne réponse : <b>${letter}</b>`;
  });

  document.getElementById("result").textContent =
    `Score : ${score} / ${questions.length}`;

  document.getElementById("restartBtn").style.display = "inline-block";
}
</script>

</body>
</html>
